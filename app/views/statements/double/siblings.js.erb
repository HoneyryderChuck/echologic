<% type_dom_class = @type.underscore %>
var elements = $("<%= escape_javascript(render :partial => "statements/double/siblings", :locals => {:type => type_dom_class})%>");
var statement = $('#statements div.<%=dom_class(@statement_node)%>');
var element = statement.find('.show_siblings_button');

elements.insertAfter(element).animate(toggleParams, 300);

var panel_height = <%= @siblings.map{|c| c.total_entries <= 7 ? ((c.total_entries + 1) * 29) : 203}.max %>
var children_list = statement.find('.header .siblings .doubles_list');
resetChildrenList(children_list, {height: panel_height});

statement.data('api').reinitialiseChildren(".siblings");