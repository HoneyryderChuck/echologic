<% type_dom_class = @type.underscore %>
var elements = $("<%= escape_javascript(render :partial => "statements/descendants", :locals => {:type => type_dom_class})%>");
var statement = $('#statements div.<%= type_dom_class %>');
var element = statement.find('.show_siblings_button');

elements.insertAfter(element).animate(toggleParams, 300);

var panel_height = <%= @children.total_entries <= 7 ? ((@children.total_entries + 1) * 29) : 203 %>
var children_list = statement.find('.header .siblings .children_list');
resetChildrenList(children_list, {height: panel_height});

statement.data('api').reinitialiseSiblings(".siblings");