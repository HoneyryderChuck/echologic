<% spoken_language ||= @spoken_language%>
<% user ||= @user %>

<% form_tag user_spoken_language_path(user, spoken_language),
            :method => :put,
            :id => dom_id(spoken_language, :edit) do -%>

  <%= select_tag 'spoken_language[language]',
                 options_for_select(EnumKey.languages.collect { |l| [l.get_current_enum_value.value,l.id] }.sort,
                                    spoken_language.language.id),
                 :disabled => true %>
  <%= select_tag 'spoken_language[level]',
                 options_for_select(EnumKey.language_levels.collect { |l| [l.get_current_enum_value.value,l.id] },
                                    spoken_language.level.id) %>
  <%= hidden_field :user_id,
                   :value => user.id %>

  <!-- Save and cancel buttons -->
  <%= save_or_cancel user_spoken_language_path(user, spoken_language) %>

<% end -%>

<script type="text/javascript">
  $("#<%= dom_id(spoken_language, :edit) %>").ajaxForm({ dataType: 'script' });
</script>
